% =====================================================================
% Beamer Theme: AcadMinimal
% File: beamerthemeAcadMinimal.sty
% Author: (Your Name)
% Version: 1.0 — 2025-09-23
% ---------------------------------------------------------------------
% PURPOSE
%   A minimal, elegant, highly readable Beamer theme for scientific
%   talks and deep research seminars.
%   - Serif titles + Sans body
%   - Professional color scheme (dark blue, gray, white)
%   - Clear header/footer with section/subsection + page numbers
%   - Consistent margins and spacing
%   - Subtly shaded theorem/definition/example blocks
%   - Simple title page
%
% HOW TO USE
%   1) Save this file as `beamerthemeAcadMinimal.sty` next to your .tex
%      or somewhere in your TEXMF tree.
%   2) In your beamer doc preamble: \usetheme{AcadMinimal}
%   3) Compile with pdfLaTeX (default) or LuaLaTeX/XeLaTeX for system fonts.
%
% TWEAKS
%   Search for "USER-EDIT" to quickly adjust colors, fonts, spacing.
% =====================================================================

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamerthemeAcadMinimal}[2025/09/23 v1.0 Minimal academic beamer theme]

% -------------------------------------------------
% Dependencies
% -------------------------------------------------
\RequirePackage{etoolbox}
\RequirePackage{ifxetex}
\RequirePackage{ifluatex}
\newif\ifAM@xetexorluatex
\ifxetex\AM@xetexorluatextrue\fi
\ifluatex\AM@xetexorluatextrue\fi

% Beamer base packages
\RequirePackage{tikz}
\RequirePackage{calc}
\RequirePackage{graphicx}

% -------------------------------------------------
% USER-EDIT: COLOR PALETTE
% -------------------------------------------------
% Professional, high-contrast palette (dark blue, gray, white)
% Adjust these three and the rest will follow.
\definecolor{AM@Blue}{RGB}{12, 50, 96}     % dark blue (titles/accents)
\definecolor{AM@Gray}{RGB}{90, 98, 110}    % cool gray (subtle text/lines)
\definecolor{AM@Light}{RGB}{246, 248, 252} % very light gray (block bg)

% Derivatives
\colorlet{AM@BlueDark}{AM@Blue!100}
\colorlet{AM@BlueMid}{AM@Blue!80!black}
\colorlet{AM@BlueSoft}{AM@Blue!20}
\colorlet{AM@GrayDark}{AM@Gray!90!black}
\colorlet{AM@GrayMid}{AM@Gray!70}
\colorlet{AM@GraySoft}{AM@Gray!30}

% -------------------------------------------------
% USER-EDIT: TYPOGRAPHY
% -------------------------------------------------
% Serif for titles, Sans for body. Works in pdfLaTeX + (Lua/Xe)LaTeX.
\ifAM@xetexorluatex
% Lua/XeLaTeX path — choose modern, well-hinted system fonts
\RequirePackage{fontspec}
% Title serif
\newfontfamily\AM@TitleSerif{TeX Gyre Pagella}[Ligatures=TeX]
% Body sans
\setsansfont{TeX Gyre Heros}[Ligatures=TeX, Scale=MatchLowercase]
\renewcommand{\familydefault}{\sfdefault}
\else
% pdfLaTeX path — Latin Modern + Helvetica (via helvet)
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage{lmodern}
\RequirePackage[scaled=0.95]{helvet}
\renewcommand{\familydefault}{\sfdefault} % body = sans
% Title serif switch using Latin Modern Roman
\newcommand{\AM@TitleSerif}{\rmfamily}
\fi

% Beamer font setup
\usefonttheme{professionalfonts} % keep Beamer from enforcing Computer Modern

% Titles / structure fonts
\setbeamerfont{title}{size=\Large,series=\bfseries}
\setbeamerfont{subtitle}{size=\large,series=\mdseries}
\setbeamerfont{frametitle}{size=\large,series=\bfseries}
\setbeamerfont{section in head/foot}{size=\footnotesize}
\setbeamerfont{subsection in head/foot}{size=\scriptsize}
\setbeamerfont{author in head/foot}{size=\scriptsize}
\setbeamerfont{date in head/foot}{size=\scriptsize}
\setbeamerfont{footline}{size=\scriptsize}
\setbeamerfont{block title}{series=\bfseries}

% Apply serif to major titles only
\addto\captionsenglish{\renewcommand{\figurename}{Fig.}}
\addto\captionsenglish{\renewcommand{\tablename}{Tab.}}

\newcommand{\AM@BeginTitleSerif}{%
	\ifAM@xetexorluatex\AM@TitleSerif\else\AM@TitleSerif\fi}
\newcommand{\AM@EndTitleSerif}{\normalfont}

% Wrap title/frametitle in serif group
\addtobeamertemplate{title}{\AM@BeginTitleSerif}{}
\addtobeamertemplate{title}{ }{\AM@EndTitleSerif}
\addtobeamertemplate{frametitle}{\AM@BeginTitleSerif}{}
\addtobeamertemplate{frametitle}{ }{\AM@EndTitleSerif}

% -------------------------------------------------
% USER-EDIT: GLOBAL LAYOUT & SPACING
% -------------------------------------------------
% Text margins for clean measure and white space
\setbeamersize{text margin left=12mm, text margin right=12mm}

% Baseline and math spacing adjustments for readability
% (Beamer manages most spacing; these keep equations pleasantly spaced.)
\setlength{\abovedisplayskip}{8pt}
\setlength{\belowdisplayskip}{8pt}
\setlength{\abovedisplayshortskip}{6pt}
\setlength{\belowdisplayshortskip}{6pt}

% Figures/tables spacing
\setlength{\textfloatsep}{10pt}
\setlength{\intextsep}{8pt}
\setlength{\floatsep}{8pt}

% Itemize/enumerate spacing
\setlength{\leftmargini}{14pt}
\setlength{\leftmarginii}{12pt}

% -------------------------------------------------
% COLOR THEME PLUMBING
% -------------------------------------------------
\setbeamercolor{normal text}{fg=black,bg=white}
\setbeamercolor{structure}{fg=AM@BlueDark}

% Header/footer colors
\setbeamercolor{palette primary}{fg=white,bg=AM@BlueDark}
\setbeamercolor{palette secondary}{fg=white,bg=AM@BlueMid}
\setbeamercolor{palette tertiary}{fg=white,bg=AM@BlueDark}
\setbeamercolor{palette quaternary}{fg=white,bg=AM@BlueDark}

% Title / frametitle
\setbeamercolor{title}{fg=AM@BlueDark}
\setbeamercolor{subtitle}{fg=AM@GrayDark}
\setbeamercolor{frametitle}{fg=AM@BlueDark}
\setbeamercolor{framesubtitle}{fg=AM@GrayDark}

% Block colors (theorem/definition/example share base with subtle variants)
\setbeamercolor{block title}{fg=AM@BlueDark,bg=AM@Light}
\setbeamercolor{block body}{fg=black,bg=AM@Light!60}

\setbeamercolor{block title alerted}{fg=white,bg=AM@BlueDark}
\setbeamercolor{block body alerted}{fg=black,bg=AM@BlueSoft!25}

\setbeamercolor{block title example}{fg=AM@BlueDark,bg=AM@Light}
\setbeamercolor{block body example}{fg=black,bg=AM@Light!60}

% Theorem/Definition environments (use Beamer's built-ins)
% Example: \begin{theorem} ... \end{theorem}

% Inline elements
\setbeamercolor{itemize item}{fg=AM@BlueDark}
\setbeamercolor{itemize subitem}{fg=AM@BlueDark}
\setbeamercolor{enumerate item}{fg=AM@BlueDark}
\setbeamercolor{caption name}{fg=AM@GrayDark}

% Links (be explicit for accessibility)
\AtBeginDocument{\hypersetup{colorlinks=true, linkcolor=AM@BlueDark, urlcolor=AM@BlueDark, citecolor=AM@BlueDark}}

% -------------------------------------------------
% HEADLINE (HEADER) — section / subsection trackers
% -------------------------------------------------
\defbeamertemplate*{headline}{AcadMinimal}{%
	\leavevmode
	\hbox{%
		\begin{beamercolorbox}[wd=\paperwidth,ht=2.2ex,dp=1ex,left]{palette primary}%
			\hspace*{12mm}% match text margin
			{\usebeamerfont{section in head/foot}\insertsectionhead}
			\ifx\insertsubsectionhead\@empty\relax\else
			\hspace{1em}{\usebeamerfont{subsection in head/foot}\textcolor{AM@GraySoft}{\Large\textbullet}~\insertsubsectionhead}
			\fi
		\end{beamercolorbox}%
	}%
}
\setbeamertemplate{headline}[AcadMinimal]

% -------------------------------------------------
% FOOTLINE — author • title (short) | frame# / total
% -------------------------------------------------
% Subtle hairline above footline for separation
\newcommand{\AM@footrule}{\tikz{\draw[AM@GraySoft,line width=0.4pt] (0,0) -- (\paperwidth,0);}}

\defbeamertemplate*{footline}{AcadMinimal}{%
	\leavevmode
	\hbox{%
		\begin{beamercolorbox}[wd=\paperwidth,ht=3.2ex,dp=1ex,left]{palette tertiary}
			\AM@footrule\vspace{0.2ex}% hairline
			\hspace*{12mm}% margin
			{\usebeamerfont{author in head/foot}\insertshortauthor}\hspace{0.75em}\textcolor{AM@GraySoft}{\textbar}\hspace{0.75em}%
			{\usebeamerfont{date in head/foot}\insertshorttitle}
			\hfill
			{\usebeamerfont{footline}\insertframenumber{} / \inserttotalframenumber}\hspace*{12mm}
		\end{beamercolorbox}%
	}%
}
\setbeamertemplate{footline}[AcadMinimal]

% -------------------------------------------------
% FRAME TITLE — clean left alignment with optional subtitle
% -------------------------------------------------
\defbeamertemplate*{frametitle}{AcadMinimal}{%
	\nointerlineskip
	\vspace{0.7ex}
	{\usebeamerfont{frametitle}\usebeamercolor[fg]{frametitle}\insertframetitle}\par
	\ifx\insertframesubtitle\@empty\else
	{\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\vspace{0.25ex}\insertframesubtitle}\par
	\fi
	\vspace{0.6ex}
}
\setbeamertemplate{frametitle}[AcadMinimal]

% -------------------------------------------------
% TITLE PAGE — refined simplicity
% -------------------------------------------------
\defbeamertemplate*{title page}{AcadMinimal}{%
	\begin{center}
		{\AM@BeginTitleSerif\usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle\AM@EndTitleSerif}\par\vspace{1ex}
		{\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle}\par\vspace{3ex}
		\rule{0.12\paperwidth}{0.6pt}\par\vspace{2.2ex}
		{\usebeamerfont{author}\insertauthor}\par\vspace{0.3ex}
		{\usebeamerfont{institute}\insertinstitute}\par\vspace{0.6ex}
		{\usebeamerfont{date}\insertdate}\par
	\end{center}
}
\setbeamertemplate{title page}[AcadMinimal]

% -------------------------------------------------
% NAVIGATION SYMBOLS — none (minimalism)
% -------------------------------------------------
\setbeamertemplate{navigation symbols}{}

% -------------------------------------------------
% LISTS / ITEMS — simple bullets & numbers
% -------------------------------------------------
\setbeamertemplate{itemize item}{\raisebox{0.5pt}{\tikz{\fill[AM@BlueDark] (0,0) circle (1.1pt);}}}
\setbeamertemplate{itemize subitem}{\raisebox{0.3pt}{\tikz{\fill[AM@BlueDark] (0,0) circle (0.8pt);}}}
\setbeamertemplate{enumerate item}{\insertenumlabel.}

% -------------------------------------------------
% CAPTIONS — clean, small label
% -------------------------------------------------
\setbeamertemplate{caption label separator}{\textemdash\,}
\setbeamertemplate{caption}[numbered]

% -------------------------------------------------
% BLOCKS — subtle shaded background, tight title bars
% -------------------------------------------------
\setbeamertemplate{blocks}[rounded][shadow=false]
\addtobeamertemplate{block begin}{\vspace{0.2ex}}{}
\addtobeamertemplate{block end}{}{\vspace{0.2ex}}

% Alerted and example blocks inherit from color settings above.

% -------------------------------------------------
% SECTION PAGES (optional) — minimal divider frames
% -------------------------------------------------
\defbeamertemplate*{section page}{AcadMinimal}{%
	\begin{center}
		\vfill
		{\AM@BeginTitleSerif\usebeamerfont{title}\usebeamercolor[fg]{title}\thesection.\ \insertsection\AM@EndTitleSerif}\par
		\vspace{0.6ex}
		{\usebeamercolor[fg]{subtitle}\rule{0.14\paperwidth}{0.6pt}}\par
		\vfill
	\end{center}
}
\setbeamertemplate{section page}[AcadMinimal]

% Show section page at each \section
\AtBeginSection[]{\begin{frame}[plain]\usebeamertemplate*{section page}\end{frame}}

% -------------------------------------------------
% OPTIONAL: BIBLIOGRAPHY TWEAKS (readability)
% -------------------------------------------------
\setbeamertemplate{bibliography item}[text] % simple labels
\setbeamerfont{bibliography item}{size=\footnotesize}
\setbeamerfont{bibliography entry author}{size=\footnotesize}
\setbeamerfont{bibliography entry title}{size=\footnotesize}
\setbeamerfont{bibliography entry note}{size=\footnotesize}

% -------------------------------------------------
% MISC: TITLE/SECTION FORMATTERS
% -------------------------------------------------
% Reduce spacing before/after headings inside frames
\makeatletter
\patchcmd{\beamer@@tmpl@@frametitle}%
{\vskip-1ex}%
{\vspace{0pt}}% no negative skip
{}{}
\makeatother

% -------------------------------------------------
% THEME REGISTRATION
% -------------------------------------------------
% Beamer discovers this file via \usetheme{AcadMinimal}
% No inner/outer/color/font theme split — all-in-one for simplicity.

% End of file
